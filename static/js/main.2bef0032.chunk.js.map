{"version":3,"sources":["App.js","index.js"],"names":["MusicButton","state","anchorEl","handleClick","event","_this","setState","currentTarget","handleClose","pinyinNum","undefined","pinyin","props","pinyins","pinyinIds","pinyinData","pinyinId","Math","floor","random","length","url","concat","audio","pause","Audio","play","_this2","this","react_default","a","createElement","Button_default","aria-owns","aria-haspopup","onClick","className","classes","musicButton","children","Menu_default","id","open","Boolean","onClose","map","i","MenuItem_default","Component","initials","finals","SoundCell","syllable","syllablesData","initial","final","TableCell_default","syllableToPinyins","align","App_MusicButton","withStyles","theme","root","width","marginTop","spacing","unit","overflowX","table","minWidth","tableHeader","fontWeight","fontSizeAdjust","color","textTransform","Table_default","padding","TableBody_default","TableRow_default","key","App_SoundCell","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.2bef0032.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {withStyles} from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport pinyinData from './pinyins.json';\nimport syllablesData from './syllables.json';\nimport syllableToPinyins from './syllableToPinyins.json';\n\nfunction getMp3Url(id) {\n    return `https://tone.lib.msu.edu/tone/${id}/datastream/PROXY_MP3/download`;\n}\n\nconst styles = theme => ({\n    root: {\n        width: '100%',\n        marginTop: theme.spacing.unit * 3,\n        overflowX: 'auto',\n    },\n    table: {\n        minWidth: 700,\n    },\n    tableHeader: {\n        fontWeight: 'bold',\n        fontSizeAdjust: 0.6,\n        color: '#333333',\n        textTransform: 'uppercase'\n    },\n    musicButton: {\n        textTransform: 'capitalize',\n        fontWeight: 300\n    }\n});\n\nclass MusicButton extends Component {\n    state = {\n        anchorEl: null\n    };\n\n    handleClick = event => {\n        this.setState({anchorEl: event.currentTarget});\n    };\n\n    handleClose = pinyinNum => {\n        if (pinyinNum !== undefined) {\n            const pinyin = this.props.pinyins[pinyinNum];\n            const pinyinIds = pinyinData[pinyin];\n            const pinyinId = pinyinIds[Math.floor(Math.random() * pinyinIds.length)];\n            const url = getMp3Url(pinyinId);\n            if (this.audio !== undefined) {\n                this.audio.pause();\n            }\n            this.audio = new Audio(url);\n            this.audio.play();\n        }\n        this.setState({anchorEl: null});\n    };\n\n    render() {\n        const {anchorEl} = this.state;\n        return (\n            <div>\n                <Button\n                    aria-owns={anchorEl ? 'simple-menu' : undefined}\n                    aria-haspopup=\"true\"\n                    onClick={this.handleClick}\n                    className={this.props.classes.musicButton}\n                >\n                    {this.props.children}\n                </Button>\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={anchorEl}\n                    open={Boolean(anchorEl)}\n                    onClose={this.handleClose}\n                >\n                    {this.props.pinyins.map((pinyin, i) => <MenuItem\n                        onClick={() => this.handleClose(i)}>{pinyin}</MenuItem>)}\n                </Menu>\n            </div>\n        );\n    }\n}\n\nlet initials = [\n    '∅', 'b', 'p', 'm', 'f', 'd', 't', 'n', 'l', 'g', 'k', 'h', 'j', 'q', 'x', 'zh', 'ch', 'sh', 'r', 'z', 'c', 's'\n];\nlet finals = [\n    'i', 'a', 'e', 'ê', 'ai', 'ei', 'ao', 'ou', 'an', 'en', 'ang', 'eng', 'er', 'ia', 'io', 'ie', 'iai', 'iao', 'iu', 'ian', 'in', 'iang', 'ing', 'u', 'ua', 'uo', 'uai', 'ui', 'uan', 'un', 'uang', 'ong', 'ü', 'üe', 'üan', 'ün', 'iong'\n];\n\n\nconst SoundCell = props => {\n    const syllable = syllablesData[props.initial][props.final];\n    if (syllable.length === 0) {\n        return <TableCell/>;\n    }\n    const pinyins = syllableToPinyins[syllable];\n    if (pinyins === undefined || pinyins.length === 0) {\n        return <TableCell/>;\n    }\n    return <TableCell align=\"center\"><MusicButton classes={props.classes}\n                                                  pinyins={pinyins}>{syllable}</MusicButton></TableCell>\n};\n\nfunction SoundTable(props) {\n    const {classes} = props;\n\n    return (\n        <Table className={classes.table} padding='none'>\n            <TableBody><TableRow>\n                <TableCell/>\n                {finals.map(final => <TableCell key={final} align=\"center\"\n                                                className={classes.tableHeader}>{final}</TableCell>)}\n            </TableRow>\n                {initials.map(initial => (\n                    <TableRow key={initial}>\n                        <TableCell align=\"right\" className={classes.tableHeader}>\n                            {initial}\n                        </TableCell>\n                        {finals.map(final => <SoundCell key={final} classes={classes} initial={initial}\n                                                        final={final}/>)}\n                    </TableRow>\n                ))}\n            </TableBody>\n        </Table>\n    );\n}\n\nSoundTable.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(SoundTable);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}